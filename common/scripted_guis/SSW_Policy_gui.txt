scripted_gui = {
	SSW_Policy_top_bar = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "SSW_Policy_top_bar_container"

		visible = {
			is_ai = no
		}
		
		ai_enabled = {
			always = no
		}

		effects = {
			select_policy_bar_button_click = {
				if = {
					limit = { 
						check_variable = { selected_policy_bar_button = 1 } #if open
					}
					set_variable = { selected_policy_bar_button = 0 } #close tab
				}
				else = {
					set_variable = { selected_policy_bar_button = 1 }
				}
			}
		}
	}
	
	SSW_Policy_tab_view = {
		window_name = "SSW_Policy_tab"
		context_type = player_context

		visible = {
			check_variable = { selected_policy_bar_button = 1 }
		}

		ai_enabled = {
			always = no
		}
		effects = {
			close_button_click = {
				set_variable = { selected_policy_bar_button = 0 }
			}
		}
		properties = {
		}
	}
	
	SSW_Policy_tab_focuses = {
		window_name = "SSW_Policy_tab_focuses"
		context_type = player_context

		visible = {
			check_variable = { selected_policy_bar_button = 1 }
		}
		triggers = {
			#selectied effect (glow)
			industry_focus_selectied_glow_visible = {
				check_variable = { selected_industry_focus = 0 }
			}
			politic_focus_selectied_glow_visible = {
				check_variable = { selected_industry_focus = 1 }
			}
			diplo_focus_selectied_glow_visible = {
				check_variable = { selected_industry_focus = 2 }
			}
			social_focus_selectied_glow_visible = {
				check_variable = { selected_industry_focus = 3 }
			}
			military_focus_selectied_glow_visible = {
				check_variable = { selected_industry_focus = 4 }
			}
			
			#selected effect (selectable)
			industry_focus_buttom_completed_visible = {
				check_variable = { selected_industry_focus = 0 }
			}
			industry_focus_buttom_button_visible = {
				NOT = {
					check_variable = { selected_industry_focus = 0 }
				}
			}
			
			politic_focus_completed_visible = {
				check_variable = { selected_industry_focus = 1 }
			}
			politic_buttom_button_visible = {
				NOT = {
					check_variable = { selected_industry_focus = 1 }
				}
			}
			
			diplo_focus_buttom_completed_visible = {
				check_variable = { selected_industry_focus = 2 }
			}
			diplo_focus_buttom_button_visible = {
				NOT = {
					check_variable = { selected_industry_focus = 2 }
				}
			}
			
			social_focus_buttom_completed_visible = {
				check_variable = { selected_industry_focus = 3 }
			}
			social_focus_buttom_button_visible = {
				NOT = {
					check_variable = { selected_industry_focus = 3 }
				}
			}
			
			military_focus_buttom_completed_visible = {
				check_variable = { selected_industry_focus = 4 }
			}
			military_focus_buttom_button_visible = {
				NOT = {
					check_variable = { selected_industry_focus = 4 }
				}
			}
		}
		effects = {
			industry_focus_buttom_button_click = {
				set_variable = { selected_industry_focus = 0 }
			}
			industry_focus_icon_button_click = {
				set_variable = { selected_industry_focus = 0 }
			}
			
			politic_buttom_button_click = {
				set_variable = { selected_industry_focus = 1 }
			}
			politic_icon_button_click = {
				set_variable = { selected_industry_focus = 1 }
			}
			
			diplo_focus_buttom_button_click = {
				set_variable = { selected_industry_focus = 2 }
			}
			diplo_focus_icon_button_click = {
				set_variable = { selected_industry_focus = 2 }
			}
			
			social_focus_buttom_button_click = {
				set_variable = { selected_industry_focus = 3 }
			}
			social_focus_icon_button_click = {
				set_variable = { selected_industry_focus = 3 }
			}
			
			military_focus_buttom_button_click = {
				set_variable = { selected_industry_focus = 4 }
			}
			military_focus_icon_button_click = {
				set_variable = { selected_industry_focus = 4 }
			}
		}
		ai_enabled = {
			always = no
		}
	}
	SSW_Policy_tab_industry = {
		window_name = "SSW_Policy_tab_industry"
		context_type = player_context

		visible = {
			check_variable = { selected_industry_focus = 0 }
			check_variable = { selected_policy_bar_button = 1 }
		}
		
		triggers = {
			# Optional. This hides every other x label, to give them some breathing room
			label_visible = {
				set_temp_variable = { si = segment_idx }
				modulo_temp_variable = { si = 2 }
				check_variable = { si = 0 }
			}
		}
		
		dynamic_lists = {
			line_segments = {
				array = industry_graph_offsets
				change_scope = no
				entry_container = industry_line_graph_line_segment
				index = segment_idx
			}
		}

		properties = {
			segment = {
				y = industry_graph_offsets^segment_idx
				frame =industry_graph_slopes^segment_idx
			}
		}
	}
}

