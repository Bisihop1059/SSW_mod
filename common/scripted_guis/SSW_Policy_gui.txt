scripted_gui = {
	SSW_Policy_top_bar = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = "SSW_Policy_top_bar_container"

		visible = {
			is_ai = no
		}
		
		ai_enabled = {
			always = no
		}

		effects = {
			select_policy_bar_button_click = {
				if = {
					limit = { 
						check_variable = { selected_policy_bar_button = 1 } #if open
					}
					set_variable = { selected_policy_bar_button = 0 } #close tab
				}
				else = {
					set_variable = { selected_policy_bar_button = 1 }
				}
			}
		}
	}
	
	SSW_Policy_top_bar_tab_view = {
		window_name = "SSW_Policy_tab"
		context_type = player_context

		visible = {
			check_variable = { selected_policy_bar_button = 1 }
		}

		ai_enabled = {
			always = no
		}
		
		effects = {
			SSW_Policy_top_bar_tab_close_button_click = {
				set_variable = { selected_policy_bar_button = 0 }
			}
			Decrease_click = {
				if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy > -199 }
					}
					add_to_variable = { ssw_policy_current_value_policy = -10 }
					temp = yes
				}
				else_if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy < -199 }
					}
					set_variable = { ssw_policy_current_value_policy = -200 } 
					temp = yes
				}
			}
			Decrease_shift_click = {
				if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy > -199 }
					}
					add_to_variable = { ssw_policy_current_value_policy = -20 }
					temp = yes
				}
				else_if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy < -199 }
					}
					set_variable = { ssw_policy_current_value_policy = -200 } 
				}
			}
			Increase_click = {
				if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy < 200 }
					}
					add_to_variable = { ssw_policy_current_value_policy = 10 }
					temp = yes
				}
				else_if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy > 200 }
					}
					set_variable = { ssw_policy_current_value_policy = 0 } 
					temp = yes
				}
			}
			Increase_shift_click = {
				if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy < 200 }
					}
					add_to_variable = { ssw_policy_current_value_policy = 20 }
					temp = yes
				}
				else_if = {
					limit = {
						check_variable = { ssw_policy_current_value_policy > 200 }
					}
					set_variable = { ssw_policy_current_value_policy = 200 } 
					temp = yes
				}
			}
			SSW_social_policy_1_button_click = {
				set_variable = { policy_1 = 0 }
				temp = yes
			}
			SSW_social_policy_2_button_click = {
				set_variable = { policy_1 = 1 }
				temp = yes
			}
		}
		properties = {
			Drager = {
				x = ssw_policy_current_value_policy
			}
		}
	}
}

