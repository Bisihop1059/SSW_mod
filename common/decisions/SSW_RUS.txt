RUS_reintegrate_states = {
	add_core_states_of_russia = {
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					OR = {
						state = 146
						state = 147
						state = 213
						state = 215
						state = 216
						state = 537
						state = 555
						state = 655
						state = 722
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					OR = {
						state = 146
						state = 147
						state = 213
						state = 215
						state = 216
						state = 537
						state = 555
						state = 655
						state = 722
					}
				}
			}
		}
		cost = 0
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			hidden_trigger = {
				FROM = {
					NOT = { is_core_of = ROOT }
					OR = {
						state = 146
						state = 147
						state = 213
						state = 215
						state = 216
						state = 537
						state = 555
						state = 655
						state = 722
					}
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
		}
	}
}
interventio_in_german_civil_war = {
	support_nazism = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			GER = {
				OR = {
					has_war_with = LTV
					has_war_with = HLH
					has_war_with = HGR
				}
			}
			NOT = { has_country_flag = support_germany }
		}
		cost = 50
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = { always = yes }
		complete_effect = {
			army_experience = 20
			send_equipment = { target = GER type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = GER modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				GER = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_vorbeck = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			LTV = {
				OR = {
					has_war_with = GER
					has_war_with = HLH
					has_war_with = HGR
				}
			}
			NOT = { has_country_flag = support_germany }
		}
		cost = 50
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = { always = yes }
		complete_effect = {
			army_experience = 20
			send_equipment = { target = LTV type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = LTV modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				LTV = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_himmler = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			HLH = {
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HGR
				}
			}
			NOT = { has_country_flag = support_germany }
		}
		cost = 50
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = { always = yes }
		complete_effect = {
			army_experience = 20
			send_equipment = { target = HLH type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = HLH modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				HLH = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
	support_goring = {
		icon = ger_reichskommissariats
		available = {
			has_equipment = { infantry_equipment > 1499 }
			HGR = {
				OR = {
					has_war_with = GER
					has_war_with = LTV
					has_war_with = HLH
				}
			}
			NOT = { has_country_flag = support_germany }
		}
		cost = 50
		fire_only_once = no
		ai_will_do = { factor = 1 }
		visible = { always = yes }
		complete_effect = {
			army_experience = 20
			send_equipment = { target = HGR type = infantry_equipment amount = 1500 }
			reverse_add_opinion_modifier = { target = HGR modifier = SSW_support_civil_war }
			hidden_effect = {
				set_country_flag = support_germany
				HGR = {
					add_ai_strategy = { type = alliance id = ROOT value = 50 }
					add_ai_strategy = { type = protect id = ROOT value = 50 }
					add_ai_strategy = { type = support id = ROOT value = 50 }
				}
			}
		}
	}
}

the_seeds_of_revolution = {
	RUS_integrate_commune_1 = {
		name = SPR_integrate_commune
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			FROM = {
				compliance > 60
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			has_government = anarchism
			FROM = {
				NOT = { is_core_of = ROOT }
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
				compliance > 35
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			has_government = anarchism
			FROM = {
				OR = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
			transfer_state = FROM
			if = {
				limit = {
					has_idea = RUS_anarchist_society_1
					NOT = { has_country_flag = RUS_anachism_flag }
				}
				swap_ideas = {
					remove_idea = RUS_anarchist_society_1
					add_idea = RUS_anarchist_society_2
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_2 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_2
					add_idea = RUS_anarchist_society_3
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_3 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_3
					add_idea = RUS_anarchist_society_4
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_4 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_4
					add_idea = RUS_anarchist_society_5
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_5 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_5
					add_idea = RUS_anarchist_society_6
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_6 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_6
					add_idea = RUS_anarchist_society_7
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_7 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_7
					add_idea = RUS_anarchist_society_8
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_8 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_8
					add_idea = RUS_anarchist_society_9
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_9 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_9
					add_idea = RUS_anarchist_society_10
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_10 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_10
					add_idea = RUS_anarchist_society_11
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_11 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_11
					add_idea = RUS_anarchist_society_12
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_12 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_12
					add_idea = RUS_anarchist_society_13
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_13 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_13
					add_idea = RUS_anarchist_society_14
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_14 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_14
					add_idea = RUS_anarchist_society_15
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_15 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_15
					add_idea = RUS_anarchist_society_16
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_16 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_16
					add_idea = RUS_anarchist_society_17
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_17 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_17
					add_idea = RUS_anarchist_society_18
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_18 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_18
					add_idea = RUS_anarchist_society_19
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_19 }
				add_war_support = 0.05
			}
		}
	}
	RUS_integrate_commune_2 = {
		name = SPR_integrate_commune
		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = adding_state_core }
			FROM = {
				compliance > 60
				NOT = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		target_trigger = {
			has_government = anarchism
			FROM = {
				NOT = {
					is_core_of = ROOT
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
				compliance > 35
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 14
		modifier = { political_power_gain = -1 }
		visible = {
			has_government = anarchism
			FROM = {
				NOT = {
					is_island_state = yes
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
			}
		}
		complete_effect = { set_country_flag = adding_state_core }
		remove_effect = {
			clr_country_flag = adding_state_core
			FROM = { add_core_of = ROOT }
			transfer_state = FROM
			if = {
				limit = {
					has_idea = RUS_anarchist_society_1
					NOT = { has_country_flag = RUS_anachism_flag }
				}
				swap_ideas = {
					remove_idea = RUS_anarchist_society_1
					add_idea = RUS_anarchist_society_2
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_2 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_2
					add_idea = RUS_anarchist_society_3
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_3 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_3
					add_idea = RUS_anarchist_society_4
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_4 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_4
					add_idea = RUS_anarchist_society_5
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_5 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_5
					add_idea = RUS_anarchist_society_6
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_6 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_6
					add_idea = RUS_anarchist_society_7
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_7 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_7
					add_idea = RUS_anarchist_society_8
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_8 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_8
					add_idea = RUS_anarchist_society_9
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_9 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_9
					add_idea = RUS_anarchist_society_10
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_10 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_10
					add_idea = RUS_anarchist_society_11
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_11 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_11
					add_idea = RUS_anarchist_society_12
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_12 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_12
					add_idea = RUS_anarchist_society_13
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_13 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_13
					add_idea = RUS_anarchist_society_14
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_14 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_14
					add_idea = RUS_anarchist_society_15
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_15 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_15
					add_idea = RUS_anarchist_society_16
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_16 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_16
					add_idea = RUS_anarchist_society_17
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_17 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_17
					add_idea = RUS_anarchist_society_18
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_18 NOT = { has_country_flag = RUS_anachism_flag } }
				swap_ideas = {
					remove_idea = RUS_anarchist_society_18
					add_idea = RUS_anarchist_society_19
				}
				set_country_flag = { flag = RUS_anachism_flag value = 1 days = 2 }
			}
			if = {
				limit = { has_idea = RUS_anarchist_society_19 }
				add_war_support = 0.05
			}
		}
	}
}
RUS_ussr_revives = {
	formable_ussr = {
		icon = generic_form_nation
		available = {
			has_completed_focus = RUS_revive_soviet
			146 = { is_core_of = RUS }
			147 = { is_core_of = RUS }
			722 = { is_core_of = RUS }
			all_state = { 
				OR = {
					NOT = { is_core_of = RUS }
					is_controlled_by = RUS
				}
			}
		}
		cost = 0
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			has_completed_focus = RUS_revive_soviet
			has_idea = RUS_soviet_heritage
			tag = RUS
		}
		complete_effect = {
			set_cosmetic_tag = SOV
			if = {
				limit = { NOT = { has_idea = rus_ideas_40 } }
				swap_ideas = {
					remove_idea = RUS_soviet_heritage
					add_idea = rus_ideas_40
				}
			}
		}
	}
}
RUS_change_capital = {
	capital_moscow = {
		icon = generic_form_nation
		available = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			controls_state = 219
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		cost = 150
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			controls_state = 219
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		complete_effect = {
			set_capital = 219
			hidden_effect = {
				set_country_flag = configuration_capital_of_russia
				set_country_flag = return_capital_of_moscow
			}
		}
	}
	capital_petersburg = {
		icon = generic_form_nation
		available = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			controls_state = 195
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		cost = 150
		fire_only_once = yes
		ai_will_do = { factor = 10 }
		visible = {
			OR = {
				original_tag = RUS
				original_tag = SOV
				has_cosmetic_tag = RUS_empire
				has_cosmetic_tag = SIB_russia
				has_cosmetic_tag = MOS_russia
			}
			NOT = { has_country_flag = configuration_capital_of_russia }
			controls_state = 195
			195 = { is_capital = no }
			219 = { is_capital = no }
		}
		complete_effect = {
			set_capital = 195
			195 = { set_state_name = Petersburg }
			set_province_name = { id = 3151 name = Petersburg }
			hidden_effect = {
				set_country_flag = configuration_capital_of_russia
				set_country_flag = return_capital_of_petersburg
			}
		}
	}
}
