add_namespace = ssw_UKR
country_event = {
	id = ssw_UKR.demand_western_poland
	title = ssw_UKR.demand_western_poland.title
	desc = ssw_UKR.demand_western_poland.desc
	picture = GFX_report_event_second_vienna_award_pact
	fire_only_once = yes
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 7
	}
	option = {
		name = ssw_UKR.demand_western_poland.a
	}
}

# Debug Event
country_event = {
	id = ssw_UKR.1
	title = ssw_UKR.1.title
	desc = ssw_UKR.1.desc
	fire_only_once = yes
	is_triggered_only = yes
	# trigger = {
	# 	tag = UKR
	# 	is_subject_of = GER
	# }
	immediate = {
		GER = {
			set_autonomy = {
				target = UKR
				autonomy_state = autonomy_free
			}
		}
		leave_faction = yes
	}
	option = {
		name = ssw_UKR.1.a
	}
}

# Ukrainian Insurgent Army starts resistance
country_event = {
	id = ssw_UKR.2
	title = ssw_UKR.2.title
	desc = ssw_UKR.2.desc
	picture = GFX_report_event_second_vienna_award_pact
	fire_only_once = yes
	mean_time_to_happen = {
		days = 3
	}
	trigger = {
		tag = UKR
	}
	option = {
		name = ssw_UKR.2.a
		every_state = {
			limit = {
				is_core_of = UKR
			}
			UKR = {
				add_state_claim = PREV
				remove_state_core = PREV
			}
		}
		every_owned_state = {
			start_resistance = yes
		}
		93 = {
			add_resistance_target = {
				amount = 100
				days = 365
			}
		}
		201 = {
			add_resistance_target = {
				amount = 100
				days = 365
			}
		}
		199 = {
			add_resistance_target = {
				amount = 100
				days = 365
			}
		}
	}
}

# Initiate Ukrainian Insurgency
country_event = {
	id = ssw_UKR.3
	title = ssw_UKR.3.title
	desc = ssw_UKR.3.desc
	fire_only_once = yes
	picture = GFX_report_event_second_vienna_award_pact
	mean_time_to_happen = {
		days = 7
	}
	trigger = {
		tag = UKR
		UKR = {
			NOT = {
				is_subject_of = GER
			}
		}
	}
	immediate = {
		hidden_effect = {
			UKA = {
				transfer_state = 93
				declare_war_on = {
					target = UKR
					type = annex_everything
				}
				93 = {
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.7"
						owner = PREV
					}
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.7"
						owner = PREV
					}
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.7"
						owner = PREV
					}
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.7"
						owner = PREV
					}
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.7"
						owner = PREV
					}
				}
			}
		}
	}
	option = {
		name = ssw_UKR.3.a
	}
}

# Ukrainian Insurgency - 199
country_event = {
	id = ssw_UKR.4
	title = ssw_UKR.4.title
	desc = ssw_UKR.4.desc
	picture = GFX_report_event_second_vienna_award_pact
	# is_triggered_only = yes
	# fire_only_once = no
	trigger = {
		tag = UKR
		has_war_with = UKA
	}
	mean_time_to_happen = {
		days = 7
	}
	immediate = {
		hidden_effect = {
			UKR = {
				random_controlled_state = {
					UKA = {
						set_state_controller = PREV
					}
					create_unit = {
						division = "name = \"Pikhotna dyviziya\" division_template = \"Pikhotna dyviziya\" start_experience_factor = 0.1"
						owner = UKA
					}
					UKR = {
						set_state_controller = PREV
					}
				}
			}
		}
	}
	option = {
		name = ssw_UKR.4.a
	}
}

# Negociate with Ukrainian Insurgent Army
country_event = {
	id = ssw_UKR.5
	title = ssw_UKR.5.title
	desc = ssw_UKR.5.desc
	picture = GFX_report_event_second_vienna_award_pact
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ssw_UKR.5.a
		random_list = {
			50 = {
				country_event = {
					id = ssw_UKR.6
					days = 3
					random_days = 3
				}
			}
			50 = {
				country_event = {
					id = ssw_UKR.7
					days = 3
					random_days = 3
				}
			}
		}
	}
}

# Negociate succeed
country_event = {
	id = ssw_UKR.6
	title = ssw_UKR.6.title
	desc = ssw_UKR.6.desc
	picture = GFX_report_event_second_vienna_award_pact
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ssw_UKR.6.a
		# all Ukrainian 'core' states will be cored by UKR
		add_state_core = 93
		add_state_core = 201
		add_state_core = 199
		add_state_core = 202
		add_state_core = 203
		add_state_core = 197
		add_state_core = 226
		add_state_core = 220
		add_state_core = 259
		add_state_core = 193
		add_state_core = 225
		add_state_core = 221
		add_state_core = 228
		add_state_core = 227
		add_state_core = 200
		add_state_core = 196
	}
}

# Negociate failed
country_event = {
	id = ssw_UKR.7
	title = ssw_UKR.7.title
	desc = ssw_UKR.7.desc
	picture = GFX_report_event_second_vienna_award_pact
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ssw_UKR.7.a
		set_country_flag = UKR_combat_uia
		unlock_decision_category_tooltip = UKR_combat_uia
	}
}
